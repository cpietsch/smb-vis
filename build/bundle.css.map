{
  "version": 3,
  "file": "bundle.css",
  "sources": [
    "App.svelte",
    "Debug.svelte",
    "Header.svelte",
    "Home.svelte",
    "ListCanvas.svelte",
    "ListFlip.svelte",
    "Mode.svelte",
    "MonadicD3.svelte",
    "Renderer.svelte",
    "Search.svelte",
    "Sprite.svelte",
    "TitleOverlaySingle.svelte"
  ],
  "sourcesContent": [
    "<script>\n  // made by christopher pietsch chrispie.com 2020\n  import { onMount } from \"svelte\";\n\n  import Renderer from \"./Renderer.svelte\";\n  import TextureLoader from \"./TextureLoader.svelte\";\n  // import Stage from \"./Stage.svelte\";\n  // import Layout from \"./Layout.svelte\";\n  import Mode from \"./Mode.svelte\";\n  import Header from \"./Header.svelte\";\n  import Dataloader from \"./Dataloader.svelte\";\n  import Cloud from \"./Cloud.svelte\";\n  import Liste from \"./ListFlip.svelte\";\n  import List from \"./ListCanvas.svelte\";\n  import Debug from \"./Debug.svelte\";\n  import Annotations from \"./Annotations.svelte\";\n  import Monadic from \"./MonadicD3.svelte\";\n\n  import { route } from \"./stores\";\n  import TitleOverlaySingle from \"./TitleOverlaySingle.svelte\";\n\n  let lastRoute = $route;\n\n  function hashchange() {\n    const r = window.location.hash.substring(2).split(\"/\");\n    const newRoute = {\n      view: r[0],\n      payload: r[1],\n      extra: r[2],\n    };\n    if (lastRoute.view == \"cloud\" && newRoute.view == \"list\") {\n      newRoute.transition = \"cloud\";\n    }\n    console.log(\"set route\", lastRoute, newRoute);\n    lastRoute = { ...newRoute };\n    route.set(newRoute);\n  }\n\n  function popstate(event, a) {\n    console.log(event, a);\n  }\n\n  onMount(hashchange);\n</script>\n\n<style>\n  @import url(\"https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap\");\n  @media (min-width: 640px) {\n    main {\n      max-width: none;\n    }\n  }\n  :global(html, body) {\n    height: 100%;\n    padding: 0;\n    margin: 0;\n    box-sizing: border-box;\n    background: #eee;\n  }\n\n  :global(*, *:before, *:after) {\n    box-sizing: border-box;\n  }\n\n  main {\n    height: 100%;\n    font-family: \"Roboto\", sans-serif;\n  }\n</style>\n\n<svelte:window on:hashchange={hashchange} on:popstate={popstate} />\n\n<main>\n  <Dataloader>\n    <Renderer>\n      <TextureLoader />\n      <Cloud />\n      <Annotations />\n    </Renderer>\n\n    {#if $route.view === 'monadic'}\n      <Monadic id={$route.payload} />\n    {/if}\n    {#if $route.view === 'list' && $route.transition !== 'cloud'}\n      <List id={$route.payload} />\n    {/if}\n  </Dataloader>\n\n  {#if $route.view === 'cloud' || $route.view === ''}\n    <TitleOverlaySingle />\n  {/if}\n  {#if $route.view !== 'list'}\n    <Header />\n  {/if}\n  <Mode />\n  <!-- <Details /> -->\n</main>\n",
    "<script>\n  // made by christopher pietsch chrispie.com 2020\n  import { onMount } from \"svelte\";\n  import {\n    distancesCutoffScore,\n    selectedItem,\n    darkmode,\n    history,\n    anchor,\n    searchstring,\n    // searchItems,\n    lastTransformed,\n    searchResults,\n  } from \"./stores.js\";\n  import { get } from \"svelte/store\";\n  import { flip } from \"svelte/animate\";\n\n  // $: console.log($fuseSearch)\n\n  function handleSubmit() {\n    console.log($searchstring);\n    window.scrollTo({ top: 0 });\n    window.location.hash = \"#/list/suche/\" + $searchstring;\n  }\n\n  onMount(() => {\n    return () => {};\n  });\n</script>\n\n<style>\n  .debug {\n    position: absolute;\n    right: 0;\n    top: 0;\n    width: 300px;\n    margin: 1em;\n    background: white;\n    padding: 1em;\n    box-shadow: 0 0 20px rgba(0, 0, 0, 0.1);\n    border-radius: 6px;\n    display: flex;\n    flex-flow: column;\n    z-index: 100;\n    overflow: hidden;\n  }\n\n  .item {\n    display: flex;\n    justify-content: space-between;\n    flex-flow: column;\n    width: 100%;\n  }\n\n  .item * {\n    padding: 0.5rem;\n  }\n\n  img {\n    width: 30%;\n    position: relative;\n  }\n</style>\n\n<div class=\"debug\">\n  <div class=\"item\">\n    <div>\n      <form on:submit|preventDefault={handleSubmit}>\n        <label for=\"search\">Suche ({$searchResults.length})</label>\n        <input type=\"search\" id=\"search\" bind:value={$searchstring} />\n      </form>\n    </div>\n  </div>\n  <div class=\"item\">\n    <label for=\"zoom\">zoom {$lastTransformed.k.toPrecision(4)}</label>\n  </div>\n  <div class=\"item\">\n    <label for=\"distancesCutoffScore\">distancesCutoffScore\n      {$distancesCutoffScore}</label>\n    <input\n      type=\"range\"\n      bind:value={$distancesCutoffScore}\n      min=\"1\"\n      max=\"80\"\n      name=\"distancesCutoffScore\" />\n  </div>\n\n  <div class=\"item\">\n    <div>\n      <input type=\"checkbox\" id=\"darkmode\" bind:checked={$darkmode} />\n      <label for=\"darkmode\">darkmode</label>\n    </div>\n  </div>\n  {#if $anchor}\n    <div class=\"item\">{JSON.stringify($anchor)}</div>\n  {/if}\n  <!-- <div class=\"item\">\n    {#each $history as id}<a href=\"#/cloud/{id}\">{id}</a>{/each}\n  </div> -->\n  <!-- {#if $selectedItem}\n    <div class=\"item\">\n      <p>id: {$selectedItem.id}</p>\n       <img\n        src=\"https://vikusviewer.fh-potsdam.de/smb/beide/data/1024/{$selectedItem.id}.jpg\"\n        alt=\"detail Image\" /> \n    </div>\n  {/if} -->\n</div>\n",
    "<script>\n  import Search from \"./Search.svelte\";\n  import Home from \"./Home.svelte\";\n  import { route, darkmode } from \"./stores\";\n</script>\n\n<style>\n  .header {\n    height: 120px;\n    width: 100%;\n    position: absolute;\n    top: 0;\n    z-index: 200;\n    pointer-events: none;\n    user-select: none;\n  }\n\n  .shadow {\n    background: linear-gradient(#eee, rgba(238, 238, 238, 0));\n  }\n</style>\n\n<div class=\"header\" class:shadow={$route.view === 'list' && !$darkmode}>\n  <Home />\n  <Search />\n</div>\n",
    "<script>\n  import { lastTransformed, darkmode } from \"./stores.js\";\n\n  const visibleScaleCutoff = 1.01;\n\n  import { route } from \"./stores\";\n\n  $: visible =\n    $lastTransformed.k < visibleScaleCutoff &&\n    $route.view != \"list\" &&\n    $route.view != \"monadic\";\n\n  function reset() {\n    window.location.hash = \"#/cloud/reset\";\n  }\n</script>\n\n<style>\n  .box {\n    height: 100vh;\n    overflow-y: scroll;\n    direction: rtl;\n    display: flex;\n    position: absolute;\n    top: 0;\n    left: 0;\n    z-index: 100;\n    padding: 1em;\n    /* pointer-events: none; */\n    flex-direction: column;\n  }\n  .inner {\n    direction: ltr;\n  }\n  .dark {\n    color: #cecece;\n  }\n\n  .blur {\n    filter: blur(3px);\n    color: #000;\n  }\n\n  h1 {\n    font-size: 1.5em;\n    margin: 0;\n    text-transform: uppercase;\n    pointer-events: all;\n    cursor: pointer;\n  }\n  h2 {\n    font-size: 1em;\n    margin-top: 0.4em;\n    margin-bottom: 0;\n    text-transform: uppercase;\n  }\n\n  .intro {\n    width: 340px;\n    max-width: 100%;\n    /* background: #FFF; */\n    line-height: 1.4em;\n    opacity: 0;\n    transition: opacity 0.5s;\n    /* display: inline; */\n  }\n  .visible {\n    opacity: 1;\n  }\n\n  .home {\n    pointer-events: visible;\n  }\n  .head {\n    text-shadow: -2px 0 3px #eeeeeead, 0 2px 3px #eeeeeead, 2px 0 3px #eeeeeead,\n      0 -2px 3px #eeeeeead;\n  }\n  .dark .head {\n    text-shadow: -2px 0 3px #000, 0 2px 3px #000, 2px 0 3px #000,\n      0 -2px 3px #000;\n  }\n  /* \n  .head {\n    padding: 1em;\n    background: linear-gradient(#eee, rgba(238, 238, 238, 0));\n  } */\n</style>\n\n<div class=\"home\" class:dark={$darkmode}>\n  <!-- <div class=\"box blur\">\n  <h1>Visuelle Exploration</h1>\n  <h2>zweier musealer Sammlungen</h2>\n  </div> -->\n  <div class=\"box\">\n    <div class=\"inner\">\n      <div class=\"head\">\n        <h1 on:click={reset}>Visuelle Exploration</h1>\n        <h2>zweier musealer Sammlungen</h2>\n      </div>\n      <div class=\"intro\" class:visible>\n        <p>\n          Basierend auf Daten der Staatlichen Museen zu Berlin zeigt die\n          Visualisierung über 5000 ausgewählte Objekte aus den Sammlungen der\n          Alten Nationalgalerie und dem Museum Europäischer Kulturen. Die\n          unterschiedlichen Sammlungsobjekte sind zum Teil sehr unterschiedlich,\n          aber sie eint der Entstehungszeitraum des 19. Jahrhunderts.\n        </p>\n        <p>\n          In der Wolke werden die Objekte nach Bild- und Titel-Ähnlichkeit\n          algorithmisch angeordnet, so dass ähnliche Objekte nahe beieinander\n          und unterschiedliche weiter auseinander liegen. Dadurch gruppieren\n          sich besonders ähnliche Objekte. Um etwas Orientierung zu bieten,\n          haben Kuratorinnen der Sammlungen einige hervorstechende Gruppierungen\n          beispielhaft mit Stichwörtern versehen.\n        </p>\n        <p>\n          Zoomen Sie mit dem Touchpad oder Scrollrad in die Wolke hinein oder\n          klicken Sie auf ein Stichwort oder Bild, um näher an die Objekte\n          heranzukommen. Klicken und ziehen Sie den Hintergrund, um den\n          Sichtbereich zu verschieben. Klicken Sie auf ein Objekt, um dessen\n          Titel sowie besonders ähnliche Objekte durch Hervorhebung angezeigt zu\n          bekommen. Klicken Sie auf den Titel des Objekts, um in die Pfadansicht\n          zu gelangen.\n        </p>\n        <p>\n          In der Pfadansicht werden jene Objekte in einer Liste angezeigt, die\n          einem ausgewählten Objekt ähneln oder einer Suchanfrage entsprechen.\n          Die Ausschläge zwischen den Objekten zeigen den Grad der Ähnlichkeit:\n          Je größer der Ausschlag, desto weiter entfernt und somit unähnlicher\n          werden die Objekte zum Start-Objekt im Vergleich zum vorherigen\n          Objekt.\n        </p>\n        <p>\n          Die Visualisierung entstand in einer Forschungskooperation zwischen\n          den Staatlichen Museen zu Berlin und dem UCLAB der Fachhochschule\n          Potsdam im Rahmen des Projektes Museum4punkt0 mit Unterstützung des\n          Museums Europäischer Kulturen und der Alten Nationalgalerie\n          Sammlungen. Die Zielstellung des Projektes war es, das Potenzial\n          assoziativer Visualisierung sammlungsübergreifender Daten zu\n          untersuchen. Weitere Informationen und den Quellcode finden sich in\n          der Projektdokumentation auf GitHub.\n        </p>\n\n        <ul>\n          Team FHP:\n          <li>\n            Christopher Pietsch: Konzept, Datenanalyse & Prototypentwicklung,\n            Design\n          </li>\n          <li>Viktoria Brüggemann: Projektkoordination und Methodik</li>\n          <li>Mark-Jan Bludau: Konzeptentwicklung und Screendesign</li>\n          <li>Marian Dörk: Wissenschaftliche Leitung</li>\n        </ul>\n\n        <ul>\n          Team SMB:\n          <li>Stephanie Thom</li>\n          <li>Timo Schuhmacher</li>\n          <li>Katharina Fendius</li>\n          <li>Marian Dörk: Wissenschaftliche Leitung</li>\n        </ul>\n\n        <p>Datenschutz & Impressum</p>\n      </div>\n    </div>\n  </div>\n</div>\n",
    "<script>\n  // made by christopher pietsch chrispie.com 2020\n  import { onMount, setContext, tick } from \"svelte\";\n  import Header from \"./Header.svelte\";\n  import Sprite from \"./Sprite.svelte\";\n\n  import {\n    dimensions,\n    sprites,\n    selectedItem,\n    getSelectedDistances,\n    umapProjection,\n    darkmode,\n    lastTransformed,\n    spriteScale,\n    detailData,\n    searchResults,\n    searchstring,\n    state,\n    route,\n    experimental,\n  } from \"./stores.js\";\n  import { get } from \"svelte/store\";\n  import { flip } from \"svelte/animate\";\n  import { slide, fade, fly } from \"svelte/transition\";\n  import { select, pointer, selection } from \"d3-selection\";\n  import {\n    interpolate as d3interpolate,\n    interpolateNumber,\n  } from \"d3-interpolate\";\n\n  import { zoomIdentity } from \"d3-zoom\";\n  import { style } from \"d3-selection\";\n\n  import { cubicInOut } from \"svelte/easing\";\n  import { tweened } from \"svelte/motion\";\n\n  export let id;\n\n  let current = id;\n  let lastCurrent = current;\n  let large = false;\n  let animating = false;\n  let transition = 0;\n  let container;\n  let showMouseOver = false;\n  let maxSearchResults = 100;\n\n  const fields = [\n    [\"idnr\", \"Ident.Nr.\"],\n    [\"actors\", \"Beteiligte\"],\n    [\"ort\", \"Geographische Bezüge\"],\n    [\"datum\", \"Datierung\"],\n    [\"material\", \"Material und Technik\"],\n    [\"abmessung\", \"Abmessungen und Gewicht\"],\n  ];\n\n  console.log(\"hello from list\", id);\n\n  const baseUrl = \"https://vikusviewer.fh-potsdam.de/smb/beide/data/\";\n\n  let items = [];\n\n  async function link(id, internal) {\n    if (!internal) {\n      window.scrollTo({ top: 0 });\n      window.location.hash = \"#/cloud/\" + id;\n      return;\n    }\n\n    animating = true;\n    scrollTo(0);\n    // window.scrollTo({ top: 0, behavior: \"smooth\" });\n    window.location.hash = \"#/list/\" + id;\n    setTimeout(() => (animating = false), 1000);\n    return false;\n  }\n\n  function scrollTo(to, duration = 1000) {\n    console.log(\"scrollTo\", to);\n    return selection()\n      .transition(\"scroll\")\n      .duration(duration)\n      .ease(cubicInOut)\n      .tween(\"scroll\", function () {\n        const scroll = interpolateNumber(container.scrollTop, to);\n        return function (t) {\n          container.scrollTop = scroll(t);\n        };\n      });\n  }\n\n  function svgPath(distance) {\n    return `\n              M${2 + distance * 3} 0\n              C ${2 + distance * 3} 15\n              2 15\n              2 30\n              C 2 45\n              ${2 + distance * 3} 50\n              ${2 + distance * 3} 60\n            `;\n  }\n\n  function scroll(id) {\n    // if(id !== )\n    console.log(\"scroll\", id, current);\n    const div = container.querySelector(\"#l\" + id);\n    setTimeout(() => {\n      const rect = div.getBoundingClientRect();\n      if (rect.top < 0) {\n        scrollTo(container.scrollTop + rect.top - 20, 400);\n      }\n      //.scrollIntoView()\n    }, 502);\n  }\n\n  $: res = transition > 2 ? \"1024\" : \"256\";\n  $: loading = transition > 2 ? \"lazy\" : \"eager\";\n\n  $: {\n    // console.log(\"current\", current);\n    if (lastCurrent != current && current) {\n      scroll(current);\n      lastCurrent = current;\n    }\n  }\n  $: {\n    if (id === \"suche\") {\n      console.log($searchResults);\n      items = $searchResults\n        .map((id, i) => {\n          const data = $detailData.get(id);\n          const projection = $umapProjection.find((d) => d.id === id);\n          return { id, i, score: 1, data, distance: 10, projection };\n        })\n        .filter((d) => d.projection)\n        .filter((a, i) => i < maxSearchResults);\n      console.log(items);\n      current = undefined;\n    } else {\n      const distances = $getSelectedDistances(id);\n\n      items = distances\n        .map(([id, score], i) => {\n          let distance = 0;\n          if (i < distances.length - 1) {\n            distance = score - distances[i + 1][1];\n          }\n          const data = $detailData.get(id);\n          const projection = $umapProjection.find((d) => d.id === id);\n          return { id, score, data, distance, i, projection };\n        })\n        .filter((d) => d.projection);\n    }\n\n    // console.log(items);\n  }\n\n  let loadedMap = [];\n  let loadedAll = false;\n\n  function loaded(e, sid) {\n    if (loadedAll) return;\n    loadedMap.push(sid);\n    if (loadedMap.length === items.length) loadedAll = true;\n  }\n\n  // $: loadedAll = loadedMap.length > 0 && loadedMap.length === items.length\n  $: {\n    console.log(\"loadedAll\", loadedAll, $route, $route.transition);\n    if (loadedAll && $route.transition == \"cloud-list\") {\n      domBoxes = getDomBoxes();\n      console.log(\"domBoxes\", domBoxes);\n\n      canvasBoxes = getCanvasBoxes();\n      console.log(\"canvasBoxes\", canvasBoxes);\n\n      transition = 1;\n      setTimeout(() => (transition = 2), 100);\n      setTimeout(() => (transition = 3), 3100);\n    }\n    if ($route.transition === undefined) {\n      transition = 3;\n    }\n  }\n\n  let domBoxes = [];\n  let canvasBoxes = [];\n\n  function getDomBoxes() {\n    return items.map(({ id, i }) => {\n      const pic = container.querySelector(\"#l\" + id).querySelector(\".picture\");\n      const { x, y, width, height } = pic.getBoundingClientRect();\n      return { id, i, x, y, width, height };\n    });\n  }\n\n  function getCanvasBoxes() {\n    const { x, y, k } = $lastTransformed;\n    const transform = zoomIdentity.translate(x, y).scale(k);\n    return items.map((d, i) => {\n      const id = d.id;\n      const sprite = $sprites.get(d.id);\n      // console.log(d, d.id, sprite);\n      const { width, height } = sprite;\n      const w = width * transform.k;\n      const h = height * transform.k;\n      const x = transform.applyX(d.projection.x) - w / 2;\n      const y = transform.applyY(d.projection.y) - h / 2;\n      return { id, i, x, y, width: w, height: h };\n    });\n  }\n\n  function domStyle(item) {\n    return `width:${item.width}px;\n            height:${item.height}px;\n            transform: translate(${item.x}px,${item.y}px);\n            z-index:${100 - item.i};\n            `;\n    //transition-delay: ${item.i * 0.01}s;\n  }\n\n  function canvasStyle(id) {\n    const item = canvasBoxes.find((d) => d.id === id);\n    return `width:${item.width}px;\n            height:${item.height}px;\n            transform: translate(${item.x}px,${item.y}px);`;\n  }\n\n  onMount(async () => {\n    //   await tick()\n\n    return () => {};\n  });\n</script>\n\n<style>\n  .container {\n    width: 100%;\n    height: 100%;\n    position: absolute;\n\n    top: 0;\n\n    overflow-y: scroll;\n    overflow-x: hidden;\n\n    justify-content: center;\n    display: flex;\n    color: #515151;\n    transition: background 0s;\n    transition-delay: 0.1s;\n  }\n\n  .container.active {\n    background: #eeeeee;\n  }\n\n  .dark,\n  .container.active.dark {\n    background: #000;\n    color: #cecece;\n  }\n\n  .transition {\n    position: absolute;\n    /* overflow: hidden; */\n    width: 100%;\n    height: 100%;\n    top: 0;\n    left: 0;\n    display: none;\n  }\n  .transition.active {\n    display: block;\n  }\n\n  .transition img {\n    position: absolute;\n    transition: transform 3s, width 3s, height 3s;\n    transition-timing-function: ease-in-out;\n  }\n\n  .liste {\n    display: flex;\n    flex-direction: column;\n    flex-wrap: nowrap;\n    /* align-items: center; */\n    z-index: 10;\n    margin-left: 5em;\n    margin-right: 5em;\n    max-width: 1200px;\n    width: 80%;\n    margin-top: 120px;\n    visibility: hidden;\n  }\n  .liste.active {\n    visibility: visible;\n  }\n\n  .item {\n    display: flex;\n    flex-direction: column;\n  }\n  .row {\n    display: flex;\n  }\n  .picture {\n    cursor: pointer;\n    position: relative;\n    width: 100px;\n    transition: width 0.5s;\n    display: flex;\n    z-index: 10;\n    user-select: none;\n  }\n  .picture picture {\n    z-index: 100;\n    width: 100%;\n    user-select: none;\n  }\n  .picture img {\n    width: 100%;\n    user-select: none;\n  }\n  /* :global(.picture canvas) {\n      width: 100%;\n    }\n   */\n  .selected {\n    z-index: 10;\n  }\n  .selected .picture {\n    width: 50%;\n    cursor: zoom-in;\n  }\n\n  .selected.large .picture {\n    width: 1024px;\n    max-width: 100%;\n    max-height: 100%;\n    cursor: zoom-out;\n  }\n\n  .selected.large .meta {\n    visibility: hidden;\n    transition: none;\n  }\n  .selected.large .additional {\n    visibility: hidden;\n    transition: none;\n  }\n\n  .additional {\n    opacity: 0;\n    flex-direction: column;\n    /* visibility: hidden; */\n  }\n  .additional .beschreibung {\n    display: block;\n  }\n  .selected .additional {\n    display: flex;\n\n    opacity: 1;\n    /* visibility: visible; */\n    transition: visibility 0s, opacity 0.5s;\n    transition-delay: 0.5s;\n  }\n  .dark .metacontainer,\n  .dark .selected .meta {\n    background: #000;\n  }\n  .metacontainer {\n    /* margin: 20px; */\n    display: flex;\n    position: relative;\n    flex-grow: 1;\n    background: #eee;\n  }\n  .meta {\n    flex-grow: 1;\n    /* max-width: 60%; */\n    position: absolute;\n    padding-left: 1em;\n    /* transition: visibility 0s;\n      transition-delay: 0.5s; */\n    font-size: 0.9em;\n  }\n  .selected .meta {\n    padding-left: 2em;\n    padding-bottom: 200px;\n    background: #eee;\n    transition: visibility;\n    /* transition-delay: 0.5s; */\n    /* box-shadow: 10px 0 5px -2px #888; */\n    /* background: #f9f9f9; */\n  }\n\n  .selected .meta::before {\n    content: \"\";\n    position: absolute;\n    width: 150px;\n    height: 100%;\n    top: 0;\n    left: -150px;\n    z-index: 6;\n    background: linear-gradient(to left, rgba(0, 0, 0, 0.11), rgba(0, 0, 0, 0));\n    box-shadow: inset 55px -124px 114px -18px rgb(238, 238, 238);\n    /* box-shadow: 0px 0px 10px 1px rgba(0, 0, 0, 0.75); */\n  }\n\n  .dark .selected .meta::before {\n    background: linear-gradient(\n      to left,\n      rgba(255, 255, 255, 0.11),\n      rgba(0, 0, 0, 0)\n    );\n    box-shadow: none;\n  }\n\n  .center {\n    position: absolute;\n    cursor: pointer;\n    display: none;\n    left: -85px;\n    top: calc(50% - 20px);\n    /* width: 90px; */\n    height: 40px;\n    background-color: #fff;\n\n    border-radius: 6px;\n    padding: 10px;\n    padding-left: 15px;\n    padding-right: 45px;\n    opacity: 0.7;\n    transition: left 0.2s, opacity 0.2s;\n  }\n\n  .center:hover {\n    left: -92px;\n    opacity: 1;\n    box-shadow: 0 0 20px rgba(0, 0, 0, 0.1);\n  }\n\n  .dark .center {\n    background-color: #525252;\n  }\n\n  .arrow {\n    border: solid black;\n    border-width: 0 3px 3px 0;\n    display: inline-block;\n    padding: 5px;\n    position: relative;\n  }\n\n  .left {\n    transform: rotate(135deg);\n    -webkit-transform: rotate(135deg);\n  }\n\n  .right {\n    transform: rotate(-135deg);\n    -webkit-transform: rotate(-135deg);\n    top: 3px;\n  }\n\n  .selected .center {\n    display: inline;\n  }\n\n  h2 {\n    font-size: 1em;\n    cursor: pointer;\n    width: 30%;\n  }\n  .selected h2 {\n    white-space: inherit;\n    width: inherit;\n    font-size: 1.3em;\n    margin-top: 0.5em;\n  }\n  p {\n    line-height: 1.4em;\n    margin-top: 0;\n    display: flex;\n    align-items: center;\n  }\n\n  b {\n    width: 170px;\n    min-width: 170px;\n  }\n\n  .item:last-child .distance {\n    display: none;\n  }\n\n  .distance {\n    opacity: 1;\n    transition: visibility 0s, opacity 1s;\n    position: relative;\n  }\n\n  .distance svg {\n    position: relative;\n    background-color: none;\n    z-index: 2;\n  }\n\n  .mouseoverdistance {\n    position: absolute;\n    /* left: -40px; */\n    left: 5px;\n    top: 5px;\n    background: white;\n    border-radius: 6px;\n    padding: 5px;\n    z-index: 200;\n    box-shadow: 0 0 20px rgba(0, 0, 0, 0.1);\n    pointer-events: none;\n    font-size: 0.9em;\n  }\n\n  .animating .distance {\n    visibility: hidden;\n    opacity: 0;\n  }\n\n  .metacontainer a {\n    color: #515151;\n  }\n\n  .current .sobjects {\n    display: none;\n  }\n\n  .link {\n    cursor: pointer;\n    display: flex;\n    background: white;\n    border-radius: 6px;\n    padding: 10px;\n    align-items: center;\n  }\n  .link:hover {\n    box-shadow: 0 0 20px rgba(0, 0, 0, 0.1);\n  }\n  .link img {\n    margin-right: 1em;\n  }\n  .link span {\n    margin-left: 10px;\n  }\n  .dark .link {\n    background-color: #525252;\n  }\n</style>\n\n<!-- <svelte:window on:load={loaded}/> -->\n\n<div\n  class=\"container\"\n  bind:this={container}\n  class:dark={$darkmode}\n  class:active={transition > 1}>\n  <Header />\n  <div class=\"transition\" class:active={transition != 3}>\n    {#each domBoxes as item (item.id)}\n      {#if !$experimental}\n        <img\n          src=\"{baseUrl}256/{item.id}.jpg\"\n          alt=\"\"\n          style={transition == 1 ? canvasStyle(item.id) : domStyle(item)} />\n      {:else}\n        <Sprite\n          id={item.id}\n          style={transition == 1 ? canvasStyle(item.id) : domStyle(item)} />\n      {/if}\n    {/each}\n  </div>\n  <div class=\"liste\" class:animating class:active={transition == 3}>\n    {#each items as item (item.id)}\n      <div\n        class=\"item\"\n        id=\"l{item.id}\"\n        class:large={item.id === current && large}\n        class:current={item.id === id}\n        class:selected={item.id === current}>\n        <!-- animates:flip={{ duration: 1000, easing: cubicInOut }} -->\n        <div class=\"row detail\" on:click={(e) => (current = item.id)}>\n          <div class=\"picture\">\n            <picture\n              draggable=\"false\"\n              on:click={() => ((large = current === item.id ? !large : false), (current = item.id))}>\n              <!-- <source srcset=\"{baseUrl}1024/{item.id}.jpg 1024w\" > -->\n              <!-- {#if transition == 3}\n                <img\n                  loading=\"lazy\"\n                  src=\"{baseUrl}1024/{item.id}.jpg\"\n                  alt={item.data._titel} />\n              {/if} -->\n              {#if !$experimental}\n                <img\n                  draggable=\"false\"\n                  on:load={(e) => loaded(e, item.id)}\n                  {loading}\n                  src=\"{baseUrl}{res}/{item.id}.jpg\"\n                  alt={item.data._titel} />\n              {:else}\n                <Sprite id={item.id} on:load={(e) => loaded(e, item.id)} />\n              {/if}\n            </picture>\n            <div\n              class=\"center\"\n              on:click|preventDefault={() => link(item.id, false)}>\n              <div class=\"arrow left\" />\n              <span>Wolke</span>\n            </div>\n          </div>\n          <div class=\"metacontainer\">\n            <div class=\"meta\">\n              <h2\n                on:clicks={(e) => ((large = false), (current = current === item.id ? undefined : item.id))}>\n                {item.data.titel}\n              </h2>\n              <div class=\"additional\">\n                <p class=\"beschreibung\">{item.data.beschreibung}</p>\n                <p><b>Sammlung</b><span>{item.data.sammlunglong}</span></p>\n                {#each fields as field}\n                  {#if item.data[field[0]] !== ''}\n                    <p><b>{field[1]}</b><span>{item.data[field[0]]}</span></p>\n                  {/if}\n                {/each}\n                <p>\n                  <b>Lizenz</b><span>{item.data.museum},\n                    {item.data.fotograf},\n                    <a\n                      href=\"https://creativecommons.org/licenses/by-nc-sa/4.0/\"\n                      target=\"_blank\">CC BY-NC-SA 4.0</a></span>\n                </p>\n                <p class=\"sobjects\">\n                  <span\n                    class=\"link\"\n                    on:click|preventDefault={() => link(item.id, true)}>\n                    <div class=\"arrow right\" />\n                    <span>Zeige ähnliche Objekte als Pfad</span>\n                  </span>\n                </p>\n              </div>\n            </div>\n          </div>\n        </div>\n        <div class=\"row distance\" style=\"height: 45px\">\n          {#if id != 'suche'}\n            <svg\n              on:mouseover={() => (showMouseOver = item.id)}\n              on:mouseleave={() => (showMouseOver = false)}\n              style=\"height: 60px;width: {5 + item.distance * 3}px; left:{-(item.distance * 3)}px; top:-10px\">\n              <path\n                style=\"fill:none; stroke-width:2px; stroke:#515151;\"\n                d={svgPath(item.distance)} />\n            </svg>\n            {#if showMouseOver == item.id}\n              <div class=\"mouseoverdistance\">\n                Diese Kurve symbolisiert die Ähnlichkeit zwischen beiden\n                Objekten in Bild und Titel\n              </div>\n            {/if}\n          {/if}\n        </div>\n      </div>\n    {/each}\n  </div>\n</div>\n",
    "<script>\n  // made by christopher pietsch chrispie.com 2020\n  import { onMount, setContext } from \"svelte\";\n  import {\n    dimensions,\n    sprites,\n    selectedItem,\n    selectedDistances,\n    getSelectedDistances,\n    umapProjection,\n    lastTransformed,\n    spriteScale,\n    state,\n  } from \"./stores.js\";\n  import { get } from \"svelte/store\";\n  import { flip } from \"svelte/animate\";\n\n  import { zoomIdentity } from \"d3-zoom\";\n\n  let outerContainer;\n  let mapped;\n  let animate = true;\n\n  export let id;\n\n  setTimeout(() => {\n    animate = false;\n  }, 500);\n\n  function comeBack() {\n    animate = !animate;\n    setTimeout(() => {\n      // state.set(\"cloud\");\n      window.location.hash = \"#/list/\" + id;\n    }, 3000);\n  }\n\n  $: {\n    const { x, y, k } = $lastTransformed;\n    console.log(x, y, k);\n    const transform = zoomIdentity.translate(x, y).scale(k);\n    const distances = $getSelectedDistances(id);\n    // console.log(distances);\n    const items = distances.map((e) =>\n      $umapProjection.find((d) => e[0] == d.id)\n    ); //.filter((d,i) => i < 5);\n    mapped = items.map((d, i) => {\n      const id = d.id;\n      const x = transform.applyX(d.x);\n      const y = transform.applyY(d.y);\n      const sprite = $sprites.get(d.id);\n      // console.log(id, sprite)\n      const texture = sprite.texture;\n      const frame = texture.frame;\n      const src = texture.baseTexture.resource.source.src;\n      return { frame, src, x, y, id, i };\n    });\n\n    console.log(mapped, items);\n  }\n\n  function style(item) {\n    return `width:${item.frame.width}px;\n          height:${item.frame.height}px;\n          transform: translate(${\n            item.x - ($spriteScale * $lastTransformed.k * item.frame.width) / 2\n          }px,${\n      item.y - ($spriteScale * $lastTransformed.k * item.frame.height) / 2\n    }px) scale(${$spriteScale * $lastTransformed.k});\n          background: url(${item.src});\n          background-position: -${item.frame.x}px -${item.frame.y}px;\n          position: absolute;\n          transition-delay: ${(mapped.length - item.i) * 0.3}s;\n          z-index: ${100 - item.i};\n        `;\n  }\n\n  function style2(item) {\n    return `width:${item.frame.width}px;\n          height:${item.frame.height}px;\n          transform: translate(${\n            $dimensions.width / 2 - item.frame.width / 2\n          }px,${\n      128 / 2 + 50 + item.i * 128 - item.frame.height / 2\n    }px) scale(1);\n          background: url(${item.src});\n          background-position: -${item.frame.x}px -${item.frame.y}px;\n          position: absolute;\n          transition-delay: ${item.i * 0.3}s;\n          z-index: ${100 - item.i};\n        `;\n  }\n\n  onMount(() => {\n    return () => {};\n  });\n</script>\n\n<style>\n  .outer {\n    width: 100%;\n    height: 100%;\n    overflow: auto;\n    position: absolute;\n    left: 0;\n    top: 0;\n    background-color: #eeeeee;\n    overflow: hidden;\n    pointer-events: all;\n  }\n\n  .liste {\n    width: 100%;\n    position: absolute;\n  }\n  .list {\n    display: flex;\n    flex-direction: column;\n    flex-wrap: nowrap;\n    align-items: center;\n    z-index: 10;\n  }\n  .list .image {\n    position: relative !important;\n    transform: unset !important;\n  }\n  .image {\n    background: #000;\n    transition: transform 2s;\n    transition-timing-function: ease-in-out;\n    display: inline-block;\n    transform-origin: 0 0;\n  }\n</style>\n\n<div class=\"outer\" on:click={() => comeBack()}>\n  <div class=\"liste\" bind:this={outerContainer} class:listss={animate}>\n    {#each mapped as item (item.id)}\n      <div class=\"image\" style={animate ? style(item) : style2(item)} />\n    {/each}\n  </div>\n</div>\n",
    "<script>\n  // made by christopher pietsch chrispie.com 2020\n  import { darkmode } from \"./stores.js\";\n\n  if (\n    window.matchMedia &&\n    window.matchMedia(\"(prefers-color-scheme: dark)\").matches\n  ) {\n    darkmode.set(true);\n  }\n\n  window\n    .matchMedia(\"(prefers-color-scheme: dark)\")\n    .addEventListener(\"change\", (e) => {\n      const newColorScheme = e.matches ? \"dark\" : \"light\";\n      darkmode.set(newColorScheme);\n    });\n</script>\n\n<style>\n  .mode {\n    position: absolute;\n    bottom: 10px;\n    right: 10px;\n    z-index: 300;\n    cursor: pointer;\n    padding: 5px;\n  }\n  .icon {\n    width: 18px;\n    height: 18px;\n    background: url(\"../moon.svg\");\n  }\n  .dark {\n    background: url(\"../sun.svg\");\n  }\n</style>\n\n<div class=\"mode\">\n  <div\n    class=\"icon\"\n    class:dark={$darkmode}\n    on:click={() => darkmode.update((d) => !d)} />\n</div>\n",
    "<script>\n    // made by christopher pietsch chrispie.com 2020\n    import { onMount, setContext, tick } from \"svelte\";\n    import {\n        dimensions,\n        sprites,\n        selectedItem,\n        getSelectedDistances,\n        umapProjection,\n        lastTransformed,\n        spriteScale,\n        detailData,\n        searchResults,\n        searchstring,\n        state,\n    } from \"./stores.js\";\n    import { get } from \"svelte/store\";\n    import {\n        interpolate as d3interpolate,\n        interpolateNumber,\n    } from \"d3-interpolate\";\n\n    import { select, selectAll } from \"d3-selection\";\n    import { style } from \"d3-selection\";\n\n    import { cubicInOut } from \"svelte/easing\";\n    import { tweened } from \"svelte/motion\";\n\n    export let id;\n    export let search;\n\n    let current = id;\n    let large = false;\n    let animating = false;\n    let container;\n    let selection;\n\n    const fields = [\n        \"_sammlung\",\n        \"_idnr\",\n        \"_actors\",\n        \"_ort\",\n        \"_datum\",\n        \"_material\",\n        \"_abmessung\",\n        \"_stichwort\",\n    ];\n\n    console.log(\"hello from list\", id);\n\n    const baseUrl = \"https://vikusviewer.fh-potsdam.de/smb/beide/data/1024/\";\n\n    let items = [];\n\n    async function link(id) {\n        window.location.hash = \"#/monadic/\" + id;\n        // setTimeout(() => (animating = false), 1000);\n    }\n    $: {\n        if (id === \"suche\" && $searchstring !== search) {\n            $searchstring = search;\n        }\n    }\n\n    $: {\n        if (id === \"suche\") {\n            console.log($searchResults);\n            items = $searchResults\n                .map((id, i) => {\n                    const data = $detailData.get(id);\n                    return { id, score: 1, data, distance: 10, idx: i };\n                })\n                .filter((a, i) => i < 30);\n            console.log(items);\n            current = $searchResults[0];\n        } else {\n            const distances = $getSelectedDistances(id);\n\n            items = distances.map(([id, score], i) => {\n                let distance = 10;\n                if (i < distances.length - 1) {\n                    distance = score - distances[i + 1][1];\n                }\n                const data = $detailData.get(id);\n                return { id, score, data, distance, idx: i };\n            });\n        }\n\n        const { width, height } = $dimensions;\n        const r = Math.min(width, height) / 5;\n        const maxScore = items[1].score;\n        const minScore = items[items.length - 1].score;\n        // const scores = items.map((d) => d.score);\n        // const minScore = Math.min(...scores);\n        // const maxScore = Math.max(...scores);\n        console.log(r, minScore);\n\n        items = items.map((d, i) => {\n            let style = \"\"; //`z-index: ${100 - i}; `;\n            let x,\n                y,\n                scale = 1;\n            if (i == 0) {\n                x = width / 2;\n                y = height / 2;\n                scale = 6;\n                style += `transform: translate(${parseInt(x)}px, ${parseInt(\n                    y\n                )}px) scale(${scale.toPrecision(3)})`;\n            } else {\n                const score = 1 - (maxScore - d.score) / (maxScore - minScore);\n                const alpha = score * Math.PI * 1.8;\n                const rand = (1 + Math.random()) * 100;\n                // console.log(score);\n                x = Math.cos(alpha) * (r + rand) + width / 2;\n                y = Math.sin(alpha) * (r + rand) + height / 2;\n                scale = 0.5 + score * 2;\n                style += `transform: translate(${parseInt(x)}px, ${parseInt(\n                    y\n                )}px) scale(${scale.toPrecision(3)})`;\n            }\n            return { ...d, style, x, y, scale };\n        });\n\n        console.log(selection, items);\n\n        if (container) {\n            let s = select(container)\n                .selectAll(\"div\")\n                .data(items, (d) => d.id);\n\n            s.exit().remove();\n\n            s.enter()\n                .append(\"div\")\n                .classed(\"item\", true)\n                .on(\"click\", (e, d) => {\n                    link(d.id);\n                })\n                .style(\n                    \"transform\",\n                    (d) =>\n                        `translate(${parseInt(d.x)}px, ${parseInt(\n                            d.y\n                        )}px) scale(${d.scale},${d.scale})`\n                )\n                .append(\"img\")\n                .attr(\"src\", (d) => `${baseUrl}${d.id}.jpg`);\n\n            //classed(\"current\", (d) => d.id == id)\n            s.transition()\n                .duration(1)\n                .delay((d, i) => i * 30)\n                .style(\n                    \"transform\",\n                    (d) =>\n                        `translate(${parseInt(d.x)}px, ${parseInt(\n                            d.y\n                        )}px) scale(${d.scale},${d.scale})`\n                );\n        }\n    }\n\n    onMount(() => {\n        selection = select(container); //.selectAll(\"div\").data(items).\n        return () => {};\n    });\n</script>\n\n<style>\n    .container {\n        width: 100%;\n        position: absolute;\n        background-color: #eeeeee;\n        top: 0;\n        height: 100%;\n        overflow: hidden;\n    }\n\n    .container :global(.item) {\n        position: absolute;\n        width: 50px;\n        height: 50px;\n        cursor: pointer;\n        transform-origin: center;\n        transition: transform 1s;\n        will-change: transform;\n    }\n\n    .container :global(img) {\n        width: 50px;\n        /* height: 100%; */\n        position: absolute;\n        /* transform: translate(-50%, -50%); */\n        /* transition: transform 1s; */\n        /* left: -50%;\n        top: -50%; */\n    }\n    .container :global(.current img) {\n        transform: initial;\n    }\n</style>\n\n<div class=\"container\" bind:this={container} />\n",
    "<script>\n  // made by christopher pietsch chrispie.com 2020\n  import { onMount, setContext } from \"svelte\";\n  import { Renderer, Container } from \"pixi.js\";\n  import {\n    dimensions,\n    sprites,\n    state,\n    darkmode,\n    renderer,\n    container,\n    divContainer,\n  } from \"./stores.js\";\n  import { writable, derived, readable, get } from \"svelte/store\";\n\n  console.log(\"init renderer\");\n  let canvas;\n  let outerContainer;\n\n  let c = new Container();\n  c.sortableChildren = true;\n  container.set(c);\n  // container.sortableChildren = true;\n\n  const renderPromise = writable(Promise);\n\n  let backgroundColorLight = 0xeeeeee;\n  let backgroundColorDark = 0x000000;\n\n  let timer;\n  const debounceDimensions = (d) => {\n    clearTimeout(timer);\n    timer = setTimeout(() => {\n      dimensions.set(d);\n    }, 100);\n  };\n\n  $: divContainer.set(outerContainer);\n\n  $: {\n    console.log(\"add sprites\", $container.children.length);\n    for (const sprite of $sprites.values()) {\n      $container.addChild(sprite);\n    }\n  }\n\n  $: {\n    if ($renderer) {\n      console.log(\"set renderer\", $renderer);\n      const color = $darkmode ? backgroundColorDark : backgroundColorLight;\n      const { width, height } = $dimensions;\n      console.log(width, height, color);\n\n      $renderer.backgroundColor = color;\n      $renderer.resize(width, height);\n      $renderer.render($container);\n    }\n  }\n\n  const resizeObserver = new ResizeObserver(([entry]) => {\n    const width = parseInt(entry.contentRect.width);\n    const height = parseInt(entry.contentRect.height);\n\n    console.log(\"resizeObserver\", width, height);\n    if (!get(renderer)) {\n      renderer.set(createRenderer(canvas, width, height));\n    }\n    // if (!renderer) renderer = createRenderer(width, height);\n\n    debounceDimensions({ width, height });\n  });\n\n  function createRenderer(view, width, height) {\n    return new Renderer({\n      view,\n      width,\n      height,\n      antialias: false,\n      transparent: false,\n      autoDensity: true,\n      // resolution: 1,\n      resolution: window.devicePixelRatio,\n      backgroundColor: backgroundColorLight,\n    });\n  }\n\n  onMount(() => {\n    console.log(\"mount\");\n\n    resizeObserver.observe(outerContainer);\n    //renderer.set(createRenderer(canvas))\n\n    return () => {\n      console.log(\"destroy renderer\");\n\n      for (const sprite of $sprites.values()) {\n        $container.removeChild(sprite);\n      }\n      $container.destroy();\n      $renderer.destroy();\n      //$pixiRenderer.destroy()\n      resizeObserver.disconnect();\n    };\n  });\n</script>\n\n<style>\n  .renderer {\n    width: 100%;\n    height: 100%;\n    overflow: hidden;\n  }\n\n  .hide {\n    display: none;\n  }\n\n  canvas {\n    position: absolute;\n  }\n</style>\n\n<!-- svelte-ignores non-top-level-reactive-declaration -->\n<div class=\"renderer\" bind:this={outerContainer}>\n  <canvas bind:this={canvas} />\n  {#if $renderer}\n    <slot />\n  {/if}\n</div>\n",
    "<script>\n  import { onMount } from \"svelte\";\n  import {\n    distancesCutoffScore,\n    selectedItem,\n    darkmode,\n    history,\n    anchor,\n    searchstring,\n    // searchItems,\n    lastTransformed,\n    searchResults,\n  } from \"./stores.js\";\n  import { get } from \"svelte/store\";\n  import { flip } from \"svelte/animate\";\n\n  $: numResults = $searchResults.length;\n  let timer;\n\n  const debounce = (v) => {\n    clearTimeout(timer);\n    timer = setTimeout(() => {\n      if (v.length > 2 || v.length == 0) searchstring.set(v);\n    }, 350);\n  };\n\n  function handleSubmit() {\n    console.log($searchstring);\n    window.scrollTo({ top: 0 });\n    window.location.hash = \"#/list/suche/\" + $searchstring;\n  }\n\n  onMount(() => {\n    return () => {};\n  });\n</script>\n\n<style>\n  .search {\n    position: absolute;\n    right: 0;\n    top: 0;\n    width: 300px;\n    padding: 1em;\n    pointer-events: none;\n    display: flex;\n    align-items: center;\n    flex-direction: column;\n  }\n\n  form {\n    width: 100%;\n  }\n\n  .searchinput {\n    font-size: 1em;\n    width: 100%;\n    border: none;\n    box-shadow: 0 0 20px rgba(0, 0, 0, 0.1);\n    border-radius: 6px;\n    background: #fff;\n    padding: 0.8em;\n    z-index: 100;\n    pointer-events: visible;\n  }\n\n  .searchinput + svg {\n    margin-left: -30px;\n    margin-top: 14px;\n    position: absolute;\n    cursor: pointer;\n  }\n\n  .searchinput + svg {\n    visibility: hidden;\n  }\n  .searchinput:placeholder-shown + svg {\n    visibility: visible;\n    opacity: 0.6;\n  }\n  .searchinput::-webkit-search-cancel-button {\n    cursor: pointer;\n  }\n\n  .searchinput:focus {\n    outline: 0;\n  }\n\n  .button {\n    box-shadow: 0 0 20px rgba(0, 0, 0, 0.1);\n    border-radius: 6px;\n    background: #c1c1c1;\n    padding: 1em;\n    position: absolute;\n    font-size: 0.8em;\n    z-index: -1;\n    top: 50px;\n    color: #000;\n    padding-top: 1.5em;\n    /* left: 26px; */\n    cursor: pointer;\n    pointer-events: all;\n  }\n</style>\n\n<div class=\"search\">\n  <form on:submit|preventDefault={handleSubmit}>\n    <!-- <label for=\"search\">Suche ({$searchResults.length})</label> -->\n    <input\n      type=\"search\"\n      class=\"searchinput\"\n      placeholder=\"Suche\"\n      autocomplete=\"off\"\n      autocorrect=\"off\"\n      autocapitalize=\"off\"\n      spellcheck=\"false\"\n      on:input={({ target: { value } }) => debounce(value)}\n      value={$searchstring} />\n    <svg\n      role=\"presentation\"\n      class=\"i-search\"\n      viewBox=\"0 0 32 32\"\n      width=\"14\"\n      height=\"14\"\n      fill=\"none\"\n      stroke=\"currentcolor\"\n      stroke-linecap=\"round\"\n      stroke-linejoin=\"round\"\n      stroke-width=\"3\">\n      <circle cx=\"14\" cy=\"14\" r=\"12\" />\n      <path d=\"M23 23 L30 30\" />\n    </svg>\n  </form>\n  {#if numResults && $searchstring != ''}\n    <div class=\"button\" on:click={handleSubmit}>\n      Ergebnisse ({numResults}) als Liste anzeigen\n    </div>\n  {/if}\n</div>\n",
    "<script>\n  // made by christopher pietsch chrispie.com 2020\n  import { onMount } from \"svelte\";\n  import {\n    distancesCutoffScore,\n    selectedItem,\n    darkmode,\n    history,\n    anchor,\n    searchstring,\n    // searchItems,\n    lastTransformed,\n    searchResults,\n    sprites,\n    renderer,\n    texturesLoaded,\n  } from \"./stores.js\";\n  import { RenderTexture, Sprite } from \"pixi.js\";\n  import { createEventDispatcher } from \"svelte\";\n\n  // does git username now works ?\n  const dispatch = createEventDispatcher();\n\n  export let id;\n  export let style;\n  let loaded = false;\n  let canvas;\n  let container;\n  let w, h;\n\n  function loadTexture() {\n    console.time(\"TEXTURE\");\n    const origSprite = $sprites.get(id);\n    // console.log(origSprite)\n    const sprite = new Sprite.from(origSprite.texture);\n    w = origSprite.texture.width;\n    h = origSprite.texture.height;\n    // sprite.scale.x = sprite.scale.y = 1\n    // sprite.position.x = w / 2\n    // sprite.position.y = h / 2\n    // console.log(sprite)\n    const renderTexture = RenderTexture.create({ width: w, height: h });\n    $renderer.render(sprite, renderTexture);\n    const image = $renderer.plugins.extract.canvas(renderTexture);\n    // console.log(renderTexture)\n    // console.log(image)\n    container.appendChild(image);\n    loaded = true;\n    dispatch(\"load\", {\n      w,\n      h,\n    });\n    console.timeEnd(\"TEXTURE\");\n  }\n\n  $: {\n    if ($texturesLoaded && !loaded && container) {\n      loadTexture();\n    }\n  }\n\n  onMount(() => {\n    if ($texturesLoaded && !loaded) {\n      loadTexture();\n    }\n    return () => {};\n  });\n</script>\n\n<style>\n  :global(.dynamicsprite canvas) {\n    width: 100%;\n  }\n  :global(.dynamicsprite.transition canvas) {\n    position: absolute;\n  }\n  .transition {\n    transition: transform 3s, width 3s, height 3s;\n    transition-timing-function: ease-in-out;\n    position: absolute;\n  }\n</style>\n\n<div\n  bind:this={container}\n  class=\"dynamicsprite\"\n  class:transition={style}\n  {style} />\n<!-- <canvas bind:this={canvas} width={w} height={h}></canvas> -->\n",
    "<script>\n  // made by christopher pietsch chrispie.com 2020\n  import { onMount } from \"svelte\";\n  import {\n    distancesCutoffScore,\n    selectedItem,\n    detailData,\n    darkmode,\n    history,\n    anchor,\n    getSelectedDistances,\n    umapProjection,\n    searchstring,\n    // searchItems,\n    lastTransformed,\n    divContainer,\n    searchResults,\n  } from \"./stores.js\";\n  import { get } from \"svelte/store\";\n  import { flip } from \"svelte/animate\";\n  import { zoomIdentity } from \"d3-zoom\";\n  // import { style } from \"d3-selection\";\n\n  let mapped = [];\n  let items = [];\n\n  // const outer = get(divContainer);\n  let container;\n\n  $: {\n    if ($selectedItem) {\n      const { id } = $selectedItem;\n      const distances = $getSelectedDistances(id);\n      // console.log(distances);\n      items = distances\n        .map((e) => $umapProjection.find((d) => e[0] == d.id))\n        .filter((d) => d);\n    } else {\n      items = [];\n    }\n  }\n\n  $: data = $selectedItem ? $detailData.get($selectedItem.id) : null;\n\n  $: {\n    if ($selectedItem) {\n      const { x, y, k } = $lastTransformed;\n      // console.log(x, y, k);\n      const transform = zoomIdentity.translate(x, y).scale(k);\n      const padding = k * 1.3;\n\n      mapped = items.map((d, i) => {\n        if (!d) console.log(items);\n        const id = d.id;\n        const x = transform.applyX(d.x);\n        const y = transform.applyY(d.y) + padding;\n        const data = $detailData.get(id);\n\n        return { x, y, id, i, data };\n      });\n\n      mapped = [mapped[0]];\n\n      // console.log(mapped, items);\n    } else mapped = [];\n  }\n\n  function style(item) {\n    return `\n            transform: translate(${item.x}px,${item.y}px);\n            z-index: ${100 - item.i};\n            opacity: ${1 - item.i / (items.length * 1.5)};\n            //pointer-events: ${item.i == 0 ? \"all\" : \"none\"};\n          `;\n  }\n\n  function link(id) {\n    window.location.hash = \"#/list/\" + id;\n    if ($searchstring !== \"\") {\n      setTimeout(() => searchstring.set(\"\"), 200);\n    }\n  }\n\n  function wheelProxy(event) {\n    $divContainer.dispatchEvent(new event.constructor(event.type, event));\n  }\n\n  onMount(() => {\n    return () => {};\n  });\n</script>\n\n<style>\n  .item {\n    position: absolute;\n    /* left: 50%;\n        top: 50%; */\n    /* width: 300px; */\n\n    /* margin-bottom: 10em; */\n  }\n  .container {\n    pointer-events: none;\n    height: 100%;\n    width: 100%;\n    left: 0;\n    overflow: hidden;\n    top: 0;\n    /* display: flex;\n          align-items: center;\n          justify-content: center; */\n    position: absolute;\n    user-select: none;\n  }\n\n  .icon {\n    cursor: pointer;\n    margin-right: 1em;\n    display: flex;\n    align-items: center;\n    /* padding: 4px;\n      background-color: #eee; */\n  }\n  .size {\n    margin-left: 5px;\n    color: #666;\n    font-size: 0.8em;\n  }\n\n  .close {\n    position: absolute;\n    right: -33px;\n    top: 16px;\n    width: 32px;\n    height: 32px;\n    opacity: 0.6;\n    cursor: pointer;\n  }\n  .close:hover {\n    opacity: 1;\n  }\n  .close:before,\n  .close:after {\n    position: absolute;\n    left: 15px;\n    content: \" \";\n    height: 20px;\n    width: 3px;\n    background-color: #333;\n  }\n  .close:before {\n    transform: rotate(45deg);\n  }\n  .close:after {\n    transform: rotate(-45deg);\n  }\n\n  .inner {\n    position: relative;\n    left: -50%;\n    max-width: 300px;\n    /* overflow: hidden; */\n    margin: 1em;\n    background: white;\n    padding: 1em;\n    border-radius: 6px;\n    /* display: flex; */\n    /* flex-flow: column; */\n    z-index: 100;\n    /* pointer-events: visible; */\n    display: flex;\n    align-items: center;\n    cursor: pointer;\n    pointer-events: visible;\n  }\n  .inner:hover {\n    box-shadow: 0 0 20px rgba(0, 0, 0, 0.1);\n  }\n  .inner:hover .arrow {\n    right: -3px;\n  }\n\n  .arrow {\n    border: solid black;\n    border-width: 0 3px 3px 0;\n    display: inline-block;\n    padding: 5px;\n    position: relative;\n    transform: rotate(-45deg);\n    margin-right: 15px;\n    right: 0;\n    transition: right 0.3s;\n  }\n</style>\n\n<!-- {#if data}\n  <div class=\"container\">\n      <div class=\"item\">\n          {data._titel}\n         </div>\n  </div>\n  {/if} -->\n\n{#if data}\n  <div class=\"container\">\n    {#each mapped as item}\n      <div class=\"item\" style={style(item)}>\n        <div\n          class=\"inner\"\n          on:click|stopPropagation={() => link(item.id)}\n          on:wheel={wheelProxy}>\n          {#if item.i == 0}\n            <!-- <span class=\"icon\"><img alt=\"Ähnliche Objekte\" src=\"liste.png\" /> -->\n            <!-- <span class=\"size\">{items.length}</span> -->\n            <span class=\"arrow\" />\n            <div\n              class=\"close\"\n              on:click|stopPropagation={() => selectedItem.set(null)} />\n            <span>{item.data.titel}</span>\n          {/if}\n        </div>\n      </div>\n    {/each}\n  </div>\n{/if}\n"
  ],
  "names": [],
  "mappings": "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"
}